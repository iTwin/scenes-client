# Template (steps): Configure node, lint, and run unit tests

steps:
  # Configure Node and install packages
  - task: npmAuthenticate@0
    displayName: npm Authenticate .npmrc
    inputs:
      workingFile: .npmrc

  - task: UseNode@1
    inputs:
      version: "20.19"
    displayName: "Install Node version 20.19"

  - script: |
      npm install -g pnpm@^9
    displayName: "Installing pnpm@^9"

  - script: |
      pnpm install --frozen-lockfile
    displayName: "Install Dependencies"

  # Lint
  - script: pnpm lint
    displayName: lint

  # Run unit tests
  - script: pnpm test
    displayName: Run unit tests
